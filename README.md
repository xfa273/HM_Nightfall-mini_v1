# Nightfall-mini_v1

STM32F405RGTマイクロコントローラを搭載したハーフサイズマイクロマウスのファームウェアプロジェクトです。

## 開発状況

マウス合宿で探索走行の動作を確認できましたが、ゲインチューニングは全く未完成である状態です。以下の機能が実装されています：

### 実装済み機能

- 基本的なモーター制御（PID制御）
- 各センサー（ジャイロ、エンコーダ、壁センサー）の読み取りと処理
- 迷路探索アルゴリズム
- 探索情報の記録と最短経路の算出
- ログデータの収集（1kHzサンプリング）

### 今後の課題

- 制御パラメータ（PIDゲイン）の最適化
- 加速・減速プロファイルの調整
- 壁センサーのキャリブレーション改善
- 高速走行時の安定性向上

## プロジェクト構造

- `Core/Src`: メインのソースコード
  - `main.c`: エントリーポイントと初期化処理
  - `drive.c`: モーター制御と走行関連機能
  - `sensor.c`: センサー読み取りと処理
  - `maze.c`: 迷路データ構造と探索アルゴリズム
  - `interrupt.c`: 割り込みハンドラとタイマー処理
- `Core/Inc`: ヘッダーファイル

## 使用方法

STM32CubeIDEを使用してプロジェクトを開き、ビルドして機体に書き込みます。

## 開発環境

- STM32CubeIDE
- STM32CubeMX
- STM32F405RGT6ターゲットMCU
